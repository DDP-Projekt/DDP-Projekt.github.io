{{ with .GetPage "features" }}
	{{ range .Pages }}
		<div class="feature {{ if not (eq .Weight 0) }} hidden {{ end }}" id="c{{.Weight}}">
			<div class="feature-content">
				{{ .Content }}
			</div>
			<div class="feature-play">
				<iframe loading="lazy" src='{{ .Param "play" }}'></iframe>
			</div>
		</div>
	{{ end }}
{{ end }}
<div id="next-btn-wrapper">
	<button id="next-btn" onclick="nextC()">{{ T "next" }}</button>
</div>

<script>
	let cIndex = 0;
	const maxC = 2;
	function nextC() {
		document.getElementById('c'+cIndex).classList.toggle('hidden')
		cIndex++;
		if (cIndex > maxC) {
			cIndex = 0;
		}
		document.getElementById('c'+cIndex).classList.toggle('hidden')
	}
</script>

<style>
	.feature {
		display: flex;
		flex-direction: column;
		width: 100%;
		height: calc(100% - var(--c-button-height));
		padding: 1.5rem;
	}
	
	.feature-content {
		width: 100%;
	}
	
	.feature-play {
		width: 100%;
		height: 100%;
		padding: 0.5rem;
	}

	#next-btn-wrapper {
		height: var(--c-button-height);
		width: 100%;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	#next-btn {
		padding: 0.5rem;
	}
</style>
